<!-- Modal -->
<div class="modal fade"
     id="loginSignupModal"
     tabindex="-1"
     aria-labelledby="loginSignupModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header border-0 pb-0">
        <button type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"></button>
      </div>
      {% if auth_pages.has_signin or auth_pages.has_signup %}
        <!-- Only show modal if at least one auth page is available -->
        <div class="modal-body pt-2">
          <div class="text-center mb-4">
            <i class="bi bi-lock-fill text-primary" style="font-size: 3rem;"></i>
            <p class="mt-3 mb-0 fw-bold fs-5">
              {% if auth_pages.has_signin and auth_pages.has_signup %}
                Sign in or create an account
              {% elif auth_pages.has_signin %}
                Sign in to your account
              {% elif auth_pages.has_signup %}
                Create an account
              {% else %}
                Account access
              {% endif %}
            </p>
            <p class="text-muted small">
              {% if auth_pages.has_signin and auth_pages.has_signup %}
                Please sign in to your account or create a new one.
              {% elif auth_pages.has_signin %}
                Please sign in to continue.
              {% elif auth_pages.has_signup %}
                Please create an account to continue.
              {% else %}
                Account features are currently unavailable.
              {% endif %}
            </p>
          </div>
          <!-- Dynamic Login/Signup Options -->
          <div class="d-grid gap-2">
            {% if auth_pages.has_signin %}
              <a href="{{ auth_urls.signin }}?next={{ header_cta_btn_url_path|urlencode }}&back={{ request.path|urlencode }}"
                 class="btn btn-primary btn-lg">
                <i class="bi bi-box-arrow-in-right me-2"></i>
                Sign In
              </a>
            {% endif %}
            {% if auth_pages.has_signup %}
              <a href="{{ auth_urls.signup }}?next={{ header_cta_btn_url_path|urlencode }}&back={{ request.path|urlencode }}"
                 class="btn {% if auth_pages.has_signin %}btn-outline-primary{% else %}btn-primary{% endif %} btn-lg">
                <i class="bi bi-person-plus me-2"></i>
                Create Account
              </a>
            {% endif %}
          </div>
          {% comment %}
          <!-- Optional: Social Login Buttons -->
          <div class="text-center my-3">
            <small class="text-muted">or continue with</small>
          </div>
          <div class="d-grid gap-2">
            <button class="btn btn-outline-dark">
              <i class="bi bi-google me-2"></i>
              Continue with Google
            </button>
            <button class="btn btn-outline-primary">
              <i class="bi bi-facebook me-2"></i>
              Continue with Facebook
            </button>
          </div>
          {% endcomment %}
        </div>
      {% else %}
        <!-- Show alternative content or hide the trigger button -->
        <div>Authentication features are currently unavailable.</div>
      {% endif %}
      <div class="modal-footer border-0 pt-0">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          <i class="bi bi-x-circle me-1"></i>
          Cancel
        </button>
      </div>
    </div>
  </div>
</div>
